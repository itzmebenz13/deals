<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>/// DATA TRANSFER IN PROGRESS ///</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --hacker-green: #00ff00; /* Neon Green */
            --hacker-dark: #1a1a1a; /* Dark background */
            --hacker-medium: #333333; /* Slightly lighter dark */
            --hacker-light: #004d00; /* Darker green for accents */
            --hacker-text: #00ff00; /* Neon green text */
            --hacker-glow: rgba(0, 255, 0, 0.4); /* Green glow */
            --hacker-border: #008000; /* Border green */
            --hacker-error: #ff0000; /* Red for errors */
        }

        body {
            font-family: 'Fira Code', monospace;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: radial-gradient(circle at center, var(--hacker-medium) 0%, var(--hacker-dark) 100%);
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cuc2d2ZW5kZXIuY29tL3N2ZzAwNjczODciPgogICAgPGrectHdyLz4KPC9zdmc+'); /* Subtle static/circuit pattern */
            background-repeat: repeat;
            background-size: 16px 16px;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            color: var(--hacker-text);
            text-shadow: 0 0 5px var(--hacker-glow);
            overflow: hidden; /* Prevent scrollbar from background */
        }

        .loading-container {
            background-color: var(--hacker-dark);
            border: 2px solid var(--hacker-green);
            box-shadow: 0 0 20px var(--hacker-glow), inset 0 0 10px var(--hacker-light);
            padding: 50px;
            border-radius: 8px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            position: relative;
            animation: flicker 1s infinite alternate;
        }

        @keyframes flicker {
            0% { box-shadow: 0 0 20px var(--hacker-glow), inset 0 0 10px var(--hacker-light); }
            100% { box-shadow: 0 0 22px var(--hacker-glow), inset 0 0 12px var(--hacker-light); }
        }

        .loading-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                45deg,
                rgba(0, 255, 0, 0.05),
                rgba(0, 255, 0, 0.05) 1px,
                transparent 1px,
                transparent 8px
            );
            pointer-events: none;
            z-index: 1;
        }

        h1 {
            color: var(--hacker-green);
            margin-bottom: 25px;
            font-weight: 600;
            font-size: 2em;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            text-shadow: 0 0 10px var(--hacker-glow);
            border-bottom: 2px dashed var(--hacker-border);
            padding-bottom: 15px;
        }

        p {
            font-size: 1.1em;
            margin-bottom: 30px;
            color: var(--hacker-text);
            text-shadow: 0 0 3px var(--hacker-glow);
            overflow: hidden; /* For typing effect */
            white-space: nowrap; /* For typing effect */
            border-right: 2px solid var(--hacker-green); /* The blinking cursor */
            animation: typing 2s steps(40, end), blink-caret .75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: var(--hacker-green); }
        }

        .spinner-hacker {
            font-size: 3em;
            margin: 0 auto 30px;
            color: var(--hacker-green);
            text-shadow: 0 0 15px var(--hacker-glow);
            animation: spin-hacker 0.8s linear infinite;
        }

        @keyframes spin-hacker {
            0% { content: '|'; }
            14% { content: '/'; }
            28% { content: '-'; }
            42% { content: '\\'; }
            56% { content: '|'; }
            70% { content: '/'; }
            84% { content: '-'; }
            100% { content: '\\'; }
        }

        .countdown {
            font-size: 1.5em;
            font-weight: 600;
            color: var(--hacker-green);
            text-shadow: 0 0 10px var(--hacker-glow);
            animation: pulse 1.5s infinite alternate;
        }

        @keyframes pulse {
            0% { opacity: 0.8; transform: scale(1); }
            100% { opacity: 1; transform: scale(1.02); }
        }

        .error-container {
            background-color: var(--hacker-dark);
            border: 2px solid var(--hacker-error);
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.5), inset 0 0 10px rgba(255, 0, 0, 0.3);
            padding: 40px;
            border-radius: 8px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            color: var(--hacker-error);
            text-shadow: 0 0 8px rgba(255, 0, 0, 0.7);
            animation: error-flicker 0.5s infinite alternate;
        }

        @keyframes error-flicker {
            0% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.5), inset 0 0 10px rgba(255, 0, 0, 0.3); }
            100% { box-shadow: 0 0 22px rgba(255, 0, 0, 0.6), inset 0 0 12px rgba(255, 0, 0, 0.4); }
        }

        .error-container a {
            color: var(--hacker-error);
            text-decoration: underline;
            font-weight: 600;
            text-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
            transition: color 0.3s ease;
        }

        .error-container a:hover {
            color: white;
        }

        /* Deterrence measures (optional, easily bypassed) */
        body.no-context-menu {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
    </style>
</head>
<body>
    <div class="loading-container" id="mainContainer">
        <h1>/// ESTABLISHING SECURE CHANNEL ///</h1>
        <div class="spinner-hacker" id="spinner">_</div>
        <p id="loadingMessage">PROCESSING TEMU DATA STREAM...</p>
        <p class="countdown" id="countdown">INITIATING REDIRECT IN: 3 SECONDS...</p>
    </div>

    <script>
        const countdownElement = document.getElementById('countdown');
        const loadingMessageElement = document.getElementById('loadingMessage');
        const spinnerElement = document.getElementById('spinner');
        const mainContainer = document.getElementById('mainContainer');
        let countdownTime = 3; // Seconds to wait

        // Function to get a URL parameter by name
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        };

        const targetUrl = getUrlParameter('url'); // Get the 'url' parameter from the URL

        if (targetUrl) {
            countdownElement.textContent = `INITIATING REDIRECT IN: ${countdownTime} SECONDS...`;
            loadingMessageElement.textContent = `PROCESSING TEMU DATA STREAM...`;

            // Reset typing animation for loading message
            loadingMessageElement.style.animation = 'none';
            void loadingMessageElement.offsetWidth; // Trigger reflow
            loadingMessageElement.style.animation = 'typing 2s steps(40, end), blink-caret .75s step-end infinite';


            const interval = setInterval(() => {
                countdownTime--;
                if (countdownTime >= 0) {
                    countdownElement.textContent = `INITIATING REDIRECT IN: ${countdownTime} SECONDS...`;
                }
                
                if (countdownTime <= 0) {
                    clearInterval(interval);
                    // Perform the actual redirection
                    window.open(targetUrl, '_blank'); // Opens in a new tab/attempts app launch
                    // If you want it to open in the same tab:
                    // window.location.replace(targetUrl);
                    
                    // Optional: Update message after redirection attempt
                    loadingMessageElement.style.animation = 'none'; // Stop typing animation
                    loadingMessageElement.style.borderRight = 'none'; // Hide cursor
                    loadingMessageElement.textContent = `REDIRECT SIGNAL SENT. MONITORING CONNECTION...`;
                    countdownElement.textContent = ``; // Clear countdown
                    spinnerElement.textContent = '///'; // Change spinner to final state
                    spinnerElement.style.animation = 'none'; // Stop spinner animation
                }
            }, 1000); // Update every 1 second
        } else {
            // Handle case where no URL parameter is found (e.g., accessed directly)
            mainContainer.classList.remove('loading-container');
            mainContainer.classList.add('error-container');
            mainContainer.innerHTML = `
                <h1>/// ERROR: MALFORMED PAYLOAD ///</h1>
                <p>ACCESS DENIED. REQUIRED PARAMETERS MISSING.</p>
                <p>RETURN TO <a href="index.html">/// SOURCE INITIATOR ///</a>.</p>
            `;
            // Remove spinner element if it exists in the error state
            const spinner = document.getElementById('spinner');
            if (spinner) {
                spinner.remove();
            }
        }

        // Deterrence measures (optional, easily bypassed)
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });
        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
        });
        document.body.classList.add('no-context-menu');
    </script>
</body>
</html>
